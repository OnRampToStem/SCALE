<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<link REL="SHORTCUT ICON" HREF="img/favicon.ico">
	<title>S C A L E</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="lib/jquery.min.js"></script>
	<script src="lib/jquery-ui.min.js"></script>
	<script src="lib/jquery.ui.touch-punch.min.js"></script>
	<script src="app.js"></script>
	<script src="doc.js"></script>
	<script src="content.js"></script>
	<script src="navigation.js"></script>
<!-- <script src="mw-es5.js"></script> -->
	<link rel="stylesheet" href="css/jquery-ui.min.css"></link>
	<style type="text/css">
		 body { 			font-family:Verdana,Geneva,sans-serif;font-size:13px;  box-sizing:border-box;
							padding:0px;margin:0px;background-color: #ddd;
							/*background-image:url("img/texture.png");*/
							}
		.wm-main { 			position:relative; width:100%; height:100%; overflow:hidden;
							}
		.wm-header { 		background-color: #bbb;width:100%;color:#fff;
							padding: 8px 0px;
							}
		.wm-logo { 			height:40px; vertical-align: top; margin:0px 16px; cursor:pointer;
							}
		.wm-courseTitle { 	font-size: 32px; font-weight: bold; margin-right:32px; cursor:pointer;
							}
		.wm-lessonTitle { 	font-size: 24px; margin-right:8px;
							}
		.wm-userName { 		position:absolute; left:90%; font-size: 12px; cursor:pointer; color:#000; text-align: left;
							}
		.wm-lessonTri { 	width: 0; height: 0; border-left: 7px solid transparent;  border-right: 7px solid transparent;
   							border-top: 7px solid #fff; cursor:pointer; display:inline-block;
							}
		.wm-content { 		width:100%; max-width:1000px;  margin: 8px auto; 
							border: 1px solid #ccc;background-color: #fff;
							border-radius: 16px; box-shadow: 2px 4px 8px #999; overflow:hidden;
							}
		.wm-contentBody { 	overflow:auto; height:calc(100% - 128px); width:calc(100% - 48px); padding:24px; 
							padding-top:8px;
							} 
		.wm-nextBut { 		position: absolute; left:calc(50% - 34px); top:calc(100% - 180px); border-radius: 128px;
							box-shadow: 2px 4px 8px #999; cursor:pointer; width: 64px;
							}
		.wm-navigation { 	position: relative; height:92px; width:100%; top: calc(100% + 16px);
							max-width:924px;  margin: 0px auto;
							}
		.wm-topicBar { 		position: absolute; width:calc(100% - 32px); height:3px; top:29px; left:16px;
							background-color: #999; border-radius:4px;
							}
		.wm-topicDotDiv { 	position: absolute; top:4px;
							}
		.wm-topicDot { 		position: absolute; width:12px; height:12px; border-radius:14px; margin-left:100px; top:18px;
							background-color: #ccc; border:2px solid #999; cursor:pointer;
							}
		.wm-topicDot:hover{ border:2px solid #6699ff;
							}
		.wm-topicDotLab { 	width:200px; text-align:center; padding-left:-100px; padding-bottom: 4px;
							text-shadow: 1px 1px #fff;font-weight: bold; color:#555;
							}
		.wm-conceptBar { 	position: absolute; height:18px;background-color: #bbb; text-align:center; top: 48px;
							background-color: 999; border:1px solid #bbb; cursor:pointer; color:#333;
							}
		.wm-conceptBar:hover{border:1px solid #6699ff;
							}
		.wm-stepLab	 { 		position: absolute; text-align:center; top:72px;
							text-shadow: 1px 1px #fff; color:#333;
							}
		.wm-pageTitle {		color:#333;	font-size: 24px; text-align:center; font-weight: bold; padding-top:16px; padding-bottom:8px;
							}
		.wm-media	 {		
							}
		.wm-pullDown {		position:absolute;background-color:#bbb; color:#fff; 
							padding:8px 16px 8px 8px;font-size: 16px;
							}
		.wm-pullDownItem { 	padding:3px;
							}
		.wm-pullDownItem:hover{ background-color:#aaa
							}
		.ui-dialog-buttonpane.ui-widget-content.ui-helper-clearfix { border:none }
		.ui-dialog { border-radius:12px;box-shadow:2px 2px 6px #ccc }
		.ui-button { border-radius:30px;outline:none }
		.ui-dialog-titlebar { display:none }
		 table {			border-spacing: 0px;  }

@media only screen and (max-width: 500px) {
    .wm-contentBody {		padding: 8px;   }
	}
</style>
</head>
<body>
	
	<div id="mainDiv" class="wm-main">
		<div id="headerDiv" class="wm-header">
			<img src='img/scaleLogoWhite.png'class='wm-logo'>
				<span id='courseTitle' class='wm-courseTitle'>Course</span>
				<span id='lessonTitle' class='wm-lessonTitle'>Lesson</span>
				<div id='lessonBut' class='wm-lessonTri'></div>
				<span id='userName' class='wm-userName'>User&nbsp;Name</span>
		</div>
			<div id="contentDiv" class="wm-content"></div>
			<div id="navDiv" class="wm-navigation"></div>
	</div>

<script>

//////////////////////////////////////////////////////////////////////////////////////////////////
// MAIN 
/////////////////////////////////////////////////////////////////////////////////////////////////

var app=null;

$(window).resize(function() {                                         	// ON WINDOW RESIZE
	if (app)																// If app loaded
		app.Draw();															// Redraw to fit screen
	});
			
$(document).ready(function() {								           	// ON PAGE LOADED
	var url=window.location.search.substring(1);						   	// Get query string
	app=new App();                                                      	// Alloc app
    });									
		
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// HELPERS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	function DialogBox(title, content, width, callback, callback2) 			// DIALOG BOX
	{
		$("#dialogDiv").remove();												
		$("body").append("<div class='unselectable' id='dialogDiv'></div>");														
		var str="<p><img src='img/logo32.png' style='vertical-align:-10px'/>&nbsp;&nbsp;";								
		str+="<span id='gtBoxTi'style='font-size:18px;text-shadow:1px 1px #ccc;color:#666'><b>"+title+"</b></span><p>";
		str+="<div style='font-size:14px;margin:14px'>"+content+"</div>";
		$("#dialogDiv").append(str);	
		$("#dialogDiv").dialog({ width:Math.abs(width), buttons: {
					            	"OK": 		function() { if (callback)
					            								callback(); 
					            								$(this).remove();  
					            								},
					            	"Cancel":  	function() { if (callback2)	            		
					            								callback2();
					            								$(this).remove(); }
									}});	
		if (width < 0)
			$("#dialogDiv").dialog("option","position",{ my:"left top", at:"left top", of:this.parent });
		else
			$("#dialogDiv").dialog("option","position",{ my:"center", at:"center", of:this.parent });
	}


	function trace(msg, p1, p2, p3, p4)										// CONSOLE 
	{
		if (p4 != undefined)
			console.log(msg,p1,p2,p3,p4);
		else if (p3 != undefined)
			console.log(msg,p1,p2,p3);
		else if (p2 != undefined)
			console.log(msg,p1,p2);
		else if (p1 != undefined)
			console.log(msg,p1);
		else
			console.log(msg);
	}

	function Sound(sound, mute)												// PLAY SOUND
	{
		var snd=new Audio();													// Init audio object
		if (!snd.canPlayType("audio/mpeg") || (snd.canPlayType("audio/mpeg") == "maybe")) 
			snd=new Audio("img/"+sound+".ogg");									// Use ogg
		else	
			snd=new Audio("img/"+sound+".mp3");									// Use mp3
		if (!mute)	{															// If not initing or muting	
			snd.volume=50/100;											// Set volume
			snd.play();															// Play it
			}
		}
		
	function ButtonPress(id)												// WIGGLE BUTTON
	{
		Sound("click");
		var p=$("#"+id).offset();
		$("#"+id).animate( { left: p.left+1+"px", top: p.top+1+"px"}, 50, 
			function() {$("#"+id).css( { left: p.left+"px", top: p.top+"px"})} 
			);
	}

</script>
</body>
</html>
